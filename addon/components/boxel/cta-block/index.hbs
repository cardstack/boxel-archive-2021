<div
  class={{cn
    "boxel-cta-block"
    (concat "boxel-cta-block--" this.theme)
    (if this.isDisabled "boxel-cta-block--disabled")
    (if this.isMemorialized "boxel-cta-block--memorialized")
    (if @stepNumber "boxel-cta-block--has-step")
  }}
  ...attributes
  data-test-boxel-cta-block
>
  {{!-- Not accounting for 0 as a step number --}}
  {{#if @stepNumber}}
    <div class="boxel-cta-block__step" data-step={{@stepNumber}} data-test-boxel-cta-block-step={{@stepNumber}}>
      <span class="boxel-sr-only">Step {{@stepNumber}}</span>
    </div>
  {{/if}}

  {{#if (and (has-block "in-progress") this.isInProgress)}}
    {{yield
      (hash
        ActionButton=(component
          "boxel/button"
          kind="primary"
          loading=true
          class="boxel-cta-block__action-button"
        )
        CancelButton=(component
          "boxel/button"
          kind="secondary-dark"
          class="boxel-cta-block__cancel-button"
        )
        InfoArea=(component
          "boxel/cta-block/area"
          ctaClass="boxel-cta-block__info-area"
        )
      )
      to="in-progress"
    }}
  {{else}}
    {{yield
      (hash
        ActionButton=(component
          "boxel/button"
          kind=(if this.isMemorialized "secondary-light" "primary")
          disabled=@disabled
        )
      )
      to="default"
    }}
  {{/if}}
  {{!-- in any state except: disabled + has a step, we want the lock shown --}}
  {{!-- template-lint-disable simple-unless --}}
  {{#unless (and this.isDisabled @stepNumber)}}
    <span class="boxel-cta-block__private-notice" data-test-boxel-cta-block-private-notice>Actions only visible to you</span>
    {{svg-jar "lock" class="boxel-cta-block__lock-icon" role="presentation"}}
  {{/unless}}
</div>