{{#let (dasherize (trim @field.title)) as |fieldName|}}
  {{#if (eq @mode "edit")}}
    {{!-- Edit Mode --}}
    {{#if (or @field.value.id (is-array @field.value))}}
      {{!-- Collection or tagList --}}
      <div class="field-renderer {{@class}}">
        <div class="field-renderer__title">{{humanize @field.title}}</div>
        {{#if @field.value.id}}
          {{!-- Single-card-only collection (BelongsTo field) --}}
          {{!-- Card format can be grid or list view --}}
          <div class="item__editor-card-platter">
            <div class="item__inner-platter item__inner-platter--{{@field.value.format}}">
              <Card @variant="small" @model={{@field.value}} @mode="view" />
              <button {{!--on "click" (fn this.removeItem item.id)--}} class="item__remove-btn" aria-label="remove" />
            </div>
          </div>
        {{else}}
          {{#let (filter-by "id" @field.value) (filter-by "title" @field.value) as |collection multiTagList|}}
            {{#if collection.length}}
              {{!-- Collections --}}
              {{!-- Format can be grid or list --}}
              <div class="item__editor-card-platter">
                <div>{{@field.title}}</div>
                <div class="collection--{{or @field.format "list"}}">
                  {{#each @field.value as |val|}}
                    <div class="item__inner-platter item__inner-platter--{{val.format}}">
                      <Card @variant="small" @model={{val}} @mode="view" @format={{val.format}} />
                      <button class="item__remove-btn" aria-label="remove" />
                    </div>
                  {{/each}}
                </div>
                <button aria-label="add">Add</button>
              </div>
            {{else if multiTagList.length}}
              {{!-- Taglist with multiple sections --}}
              <div>
                {{#each @field.value as |val|}}
                  <div class="item__field-value-title item__field-value-title--edit">{{val.title}}</div>
                  <div class="item__editor-platter item__editor-platter--taglist">
                    {{#each val.value as |vv|}}
                      <div class="item__pill">
                        <span>{{vv}}</span>
                        <button class="item__remove-btn" aria-label="remove" />
                      </div>
                    {{/each}}
                    <button class="item__add-btn" aria-label="add" />
                  </div>
                {{/each}}
              </div>
            {{else}}
              {{!-- Horizontal tagList --}}
              <div class="item__editor-platter item__editor-platter--taglist">
                {{#each @field.value as |val|}}
                  <div class="item__pill">
                    <span>{{val}}</span>
                    <button class="item__remove-btn" aria-label="remove" />
                  </div>
                {{/each}}
                <button class="item__add-btn" aria-label="add" />
              </div>
            {{/if}}
          {{/let}}
        {{/if}}
      </div>
    {{else}}
      {{!-- Input field --}}
      <label class="field-renderer">
        <div class="field-renderer__title">{{humanize @field.title}}</div>
        <div class="field-renderer__value">
          {{#if (eq @field.type "dropdown")}}
            <Dropdown @className="field-renderer__dropdown" @options={{@field.options}} @selected={{@field}} @searchField={{or @searchField "value"}} />
          {{else if (eq @field.type "textarea")}}
            <Textarea @type={{@field.type}} @class="field-renderer__input field-renderer__textarea" @value={{@field.value}} />
          {{else}}
            <Input @type={{@field.type}} @class="field-renderer__input" @value={{@field.value}} />
          {{/if}}
        </div>
      </label>
    {{/if}}
  {{else}}
    {{!-- Default: View Mode --}}
    <div class="field-renderer {{@class}}">
      <div class="field-renderer__title">{{humanize @field.title}}</div>
      <Boxel @class="field-renderer__value">
        {{#if (or (contains fieldName @addedFields) (contains @fieldName @changedFields))}}
          <BoxelHighlight @on={{true}} @revisionMode={{@revisionMode}} />
          <BoxelActions @displayHighlightActions={{true}} @revisionMode={{@revisionMode}} @addedItems={{contains fieldName @addedFields}}>
            {{#if (contains fieldName @changedFields)}}
              Edited {{fieldName}}
            {{/if}}
          </BoxelActions>
        {{/if}}
        {{#if @field.value}}
          {{#if @field.value.id}}
            <Card @variant="small" @model={{@field.value}} @mode="view" />
          {{else if (is-array @field.value)}}
            {{#let (filter-by "id" @field.value) (filter-by "title" @field.value) as |collection multiTagList|}}
              {{#if collection.length}}
                {{#each @field.value as |val|}}
                  <Card @variant="small" @model={{val}} @mode="view" />
                {{/each}}
              {{else if multiTagList.length}}
                {{#each @field.value as |val|}}
                  <div class="item__field-value-title">{{val.title}}</div>
                  {{#each val.value as |vv|}}
                    <div>{{vv}}</div>
                  {{/each}}
                {{/each}}
              {{else}}
                {{#each @field.value as |val|}}
                  {{val}}{{#if (has-next val @field.value)}}, {{/if}}
                {{/each}}
              {{/if}}
            {{/let}}
          {{else}}
            {{#if (eq @field.type "date")}}
              {{moment-format @field.value "MMM DD, YYYY" "YYYY-MM-DD"}}
            {{else}}
              {{@field.value}}
            {{/if}}
          {{/if}}
        {{else}}
          N/A
        {{/if}}
      </Boxel>
    </div>
  {{/if}}
{{/let}}