<Boxel @class="boxel-card__container boxel-card__container--{{or @format "list"}}">
  <div class="card__gradient" />
  {{#if @status}}
    <BoxelHighlight @status={{@status}} />
    <BoxelActions @status={{@status}} />
  {{/if}}
  {{#if @expandAction}}
    <BoxelHighlight {{on "click" @expandAction}} @class="boxel-card__expand-overlay" />
  {{/if}}
  <AnimatedContainer>
    {{#animated-value @model key="id"}}
      <div class="boxel-card boxel-card--default boxel-card--{{if @model @model.type "blank-card"}}">
        {{#if @model.type}}
          <header class="boxel-card__header">
            {{humanize @model.type}}
          </header>
        {{/if}}
        <div class="boxel-card__inner boxel-card__inner--{{or @format "list"}} {{if @model.imgURL "boxel-card__inner--with-img"}}">
          {{#if @model.imgURL}}
            <div class="boxel-card__bg-img" style={{css-url "background-image" @model.imgURL}} />
          {{/if}}
          {{#if @model.title}}
            <h3 class="boxel-card__title">{{if (eq @model.type "musical-work") (titleize @model.title) @model.title}}</h3>
          {{/if}}
          {{#if @model.description}}
            <p class="boxel-card__description">{{@model.description}} {{#if @model.descriptionDate}}{{moment-format @model.descriptionDate "MMM DD, YYYY" "YYYY-MM-DD"}}{{/if}}</p>
          {{/if}}
          {{#if (and @model.fields (is-array @model.fields))}}
            <ul class="boxel-card__fields">
              {{#each @model.fields as |field|}}
                <li>
                  <FieldRenderer
                    @class="boxel-card-field"
                    @mode={{@mode}}
                    @field={{field}}
                  />
                </li>
              {{/each}}
            </ul>
          {{/if}}
        </div>
      </div>
    {{/animated-value}}
  </AnimatedContainer>
</Boxel>