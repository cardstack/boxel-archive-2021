<DetailTemplate>
  <Breadcrumbs>
    {{#let this.target.currentRoute.parent as |parent|}}
      <LinkTo @route="media-registry" @model={{parent.parent.params.id}} @class="breadcrumbs__item">
        <div class="breadcrumbs__item-label">Collection</div>
        <div class="breadcrumbs__item-title">{{parent.parent.attributes.title}}</div>
      </LinkTo>
      {{#if parent.attributes.fromCollectionId}}
        <span class="breadcrumbs__carot" />
        <LinkTo @route="media-registry.collection" @model={{parent.attributes.fromCollectionId}} @class="breadcrumbs__item">
          <div class="breadcrumbs__item-label">Collection</div>
          <div class="breadcrumbs__item-title">{{titleize (humanize parent.attributes.fromCollectionId)}}</div>
        </LinkTo>
      {{/if}}
      <span class="breadcrumbs__carot" />
      <LinkTo @route="media-registry.item" @model={{parent.params.itemId}} @class="breadcrumbs__item">
        <div class="breadcrumbs__item-label">{{humanize parent.attributes.type}}</div>
        <div class="breadcrumbs__item-title">{{titleize parent.attributes.song_title}}</div>
      </LinkTo>
    {{/let}}
  </Breadcrumbs>

  <AnimatedContainer @class="detail-card__container">
    {{#animated-value @model key="iswc" duration="1000"}}
      <DetailCard
        @headerFields={{this.headerFields}}
        @fields={{this.isolatedFields}}
        @label="Musical Work"
        @mode="view"
      >
        <BoxelActions
          @class="media-collection__btn-overlay"
          @displayHighlightActions={{true}}
          @btnLeft="mode-btn"
          @btnLeftContent="Edit"
          @btnRight="settings"
        />
      </DetailCard>
    {{/animated-value}}
  </AnimatedContainer>

  {{!-- Related Cards Sidebar --}}
  <aside class="item__sidebar">
    <h3 class="item__sidebar-title">In these collections</h3>
    <div class="item__sidebar-cards">
      {{#each (array "Film Music" "Batch F") as |catalog i|}}
        <SidebarRelatedCard
          @type="collection"
          @title={{catalog}}
          @route="media-registry.collection"
          @routeModel={{dasherize (trim catalog)}}
          @subtitle={{get @model.catalogSubtitles i}}
          @count={{get @model.catalogCounts i}} />
      {{/each}}
    </div>
  </aside>
</DetailTemplate>